<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US"
      lang="en-US"
      metal:use-macro="here/prefs_main_template/macros/master"
      i18n:domain="plone">

<tal:block metal:fill-slot="top_slot">
   <tal:block tal:define="dummy python:request.set('disable_border',1)" />
</tal:block>

<body>

<div metal:fill-slot="prefs_configlet_main"
     tal:define="errors python:request.get('errors', {})" >


<div class="configlet">
    <table tal:define="dprovider python: here.portal_ploneboard.getDataProvider(request.get('transform_name')); global config_metadata dprovider/getConfigMetadata;">
        <th tal:content="config_metadata/key_label">Key name</th><th tal:content="config_metadata/value_label">Value nameStatus</th>
        <tr tal:repeat="items python: dprovider.getElements().items()">
            <tal:block tal:define="key python: items[0]; value python: items[1]; ">
                <form class="group"
                    name="edit_form"
                    action=""
                    method="post"
                    enctype="multipart/form-data"
                    tal:attributes="action template/getId" >
                    <input type="hidden" name="form.submitted" value="1" />
                    <td><input type="text" name="key" value="" tal:attributes="value key"/></td>
                    <td><input type="text" name="value" value="" tal:attributes="value value"/></td>
                    <td><input type="submit" name="form.button.Update" value="Update"/><input type="submit" name="form.button.Remove" value="Remove"/></td>
                </form>
            </tal:block>
        </tr>
    </table>

    <hr />
    <form class="group"
              name="edit_form"
              action=""
              method="post"
              enctype="multipart/form-data"
              tal:attributes="action template/getId" >
        <input type="hidden" name="form.submitted" value="1" />
        <input type="hidden" name="transform_name" value="" tal:attributes="value python: request.get('transform_name')"/>
        <table>
            <tr>
                <td tal:content="config_metadata/key_label">Key</td><td><input type="text" name="key"/></td>
            </tr>
            <tr>
                <td tal:content="config_metadata/value_label">Value</td><td><input type="text" name="value"/></td>
            </tr>
            <tr>
                <td colspan="2"><input type="submit" name="form.button.Add" value="Add"></td>
            </tr>
        </table>
    </form>
</div>


</div>
</body>
</html>
